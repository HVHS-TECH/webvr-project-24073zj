<!DOCTYPE html>
<html>
  <head>
<script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
<script src="https://rawgit.com/donmccurdy/aframe-extras/v2.1.1/dist/aframe-extras.loaders.min.js"></script> 
<script>// from https://codepen.io/bryik/pen/jrYBGm
  
  //A-I script:
/*
const myObject = document.getElementById("rig");
const animation = document.getElementById("rig").getAttribute("animation");

document.addEventListener('keydown', (event) => {
    if (event.key === 'r') {
        myObject.emit('r-pressed');
    }
});
*//*
  animation__1="property: position; from: 0 2 10; to: 0 0 2; dir: normal; dur: 3000; loop: 1;"
  animation__2="property: position; from: 0 0 2; to: 0 2 3; 
  dir: normal; dur: 3000; loop: 1; 
  startEvents: animationcomplete; animation-target: animation__1;"
  animation__3="property: position; from: 0 2 3; to: 0 2 -1; 
  dir: normal; dur: 3000; loop: 1; 
  startEvents: animationcomplete; "

  <a-plane position="0 -1 0" rotation="270 0 0" scale="50 50" color="green"></a-plane>
      <a-box position="0 -0.5 0" scale="1 0.5 1"></a-box>

      script="el.emit(`triggeranimation`, null, false);" animation__customevent="
      property: position; from: 0 5 0; to: 0 5 10; startEvents: triggeranimation; dur: 50000;"


      animation="
      property: position;
      from: 30 10 0;
      to: 0 1.6 0;
      dur: 10000;
      dir: normal;
      loop: 2;
      "
  */
</script>
  </head>
    <body>
    <a-scene>
      <a-sky color="lightblue"></a-sky>
      <a-entity id="rig" position="30 2 20" rotation="0 90 0"
      animation__down="
      property: position;
      from: 0 1.6 0;
      to: 0 3 0;
      dur: 1000;
      dir: normal;
      loop: 1;
      startEvents: r-pressed;
      animationcomplete: ;
      "
      animation__up="
      property: position;
      from: 0 3 0;
      to: 0 1.6 0;
      dur: 1000;
      dir: normal;
      loop: 1;
      startEvents: t-pressed;
      animationcomplete: ;
      "
      >
        <a-entity id="cam" camera wasd-controls look-controls></a-entity>
      </a-entity>
      
      <a-box position="0 1.7 0" scale="0.5 1.6 0.5" material="" geometry=""></a-box>

      <a-entity id="enviroment"
      ply-model="src:enviromentv3.ply"
      position="0 0 0"
      rotation="270 0 0"
      scale="3 3 3"
      ></a-entity>
      <a-entity id="house1" ply-model="src: house1.ply" position="12.4 0.9 6.9" rotation="-89 139.3 0" scale="3 3 3"></a-entity>
      <a-entity id="house2" ply-model="src: house1.ply" position="3.5 0.9 4.4" rotation="-89 -62.3 0" scale="3 3 3"></a-entity>
      <a-entity id="house3" ply-model="src: house3.ply" position="12.7 0.9 -7.7" rotation="-89 -127.6 0" scale="3 3 3"></a-entity>

      <a-entity id="palmTree1" ply-model="src: palmTree.ply" position="29.5 0.1 34.7" rotation="-90 33.7 0" scale="3 3 3"></a-entity>
      <a-entity id="palmTree2" ply-model="src: palmTree.ply" position="31.3 2 28.5" rotation="270 0 0" scale="3 3 3"></a-entity>
      <a-entity id="palmTree3" ply-model="src: palmTree.ply" position="29.4 2 20." rotation="270 0 0" scale="3 3 3"></a-entity>
      <a-entity id="palmTree4" ply-model="src: palmTree.ply" position="26.8 2 13" rotation="270 0 0" scale="3 3 3"></a-entity>
      <a-entity id="palmTree5" ply-model="src: palmTree.ply" position="25.6 2 5.3" rotation="270 0 0" scale="3 3 3"></a-entity>
      <a-entity id="palmTree6" ply-model="src: palmTree.ply" position="25.4 2 -3.4" rotation="270 0 0" scale="3 3 3"></a-entity>
      <a-entity id="palmTree7" ply-model="src: palmTree.ply" position="25.2 2 -12.1" rotation="270 0 0" scale="3 3 3"></a-entity>
      <a-entity id="palmTree8" ply-model="src: palmTree.ply" position="30.1 2 -29.2" rotation="270 0 0" scale="3 3 3"></a-entity>
      <a-entity id="palmTree9" ply-model="src: palmTree.ply" position="30.1 2 -29.2" rotation="270 0 0" scale="3 3 3"></a-entity>

      <script>
        const myObject = document.getElementById("rig");
        const animationUp = myObject.getAttribute("animation__up");
        const animationDown = myObject.getAttribute("animation__down");

        document.addEventListener('keydown', (event) => {
        if (event.key === 'r') {
        myObject.emit('r-pressed');
        }
        });
        document.addEventListener('keydown', (event) => {
        if (event.key === 't') {
        myObject.emit('t-pressed');
        }
        });
      </script>
    </a-scene>
  </body>
</html>